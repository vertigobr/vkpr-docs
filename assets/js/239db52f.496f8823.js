"use strict";(self.webpackChunkvkpr_docs=self.webpackChunkvkpr_docs||[]).push([[1724],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>k});var o=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=o.createContext({}),p=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},c=function(e){var t=p(e.components);return o.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=p(n),k=i,g=d["".concat(s,".").concat(k)]||d[k]||u[k]||r;return n?o.createElement(g,a(a({ref:t},c),{},{components:n})):o.createElement(g,a({ref:t},c))}));function k(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,a=new Array(r);a[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,a[1]=l;for(var p=2;p<r;p++)a[p]=n[p];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"},7746:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>p});var o=n(7462),i=(n(7294),n(3905));const r={sidebar_position:2,sidebar_label:"Okteto",title:"Okteto",slug:"/provisioning/dev/cloud/okteto"},a=void 0,l={unversionedId:"provisioning-guide/cloud-dev/okteto",id:"provisioning-guide/cloud-dev/okteto",title:"Okteto",description:"Provisioning with Okteto",source:"@site/docs/provisioning-guide/cloud-dev/okteto.md",sourceDirName:"provisioning-guide/cloud-dev",slug:"/provisioning/dev/cloud/okteto",permalink:"/docs/provisioning/dev/cloud/okteto",draft:!1,editUrl:"https://github.com/vertigobr/vkpr-docs/edit/main/docs/provisioning-guide/cloud-dev/okteto.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,sidebar_label:"Okteto",title:"Okteto",slug:"/provisioning/dev/cloud/okteto"},sidebar:"tutorialSidebar",previous:{title:"DigitalOcean",permalink:"/docs/cloud-dev/digitalocean"},next:{title:"Ingress",permalink:"/docs/category/ingress"}},s={},p=[{value:"Provisioning with Okteto",id:"provisioning-with-okteto",level:2},{value:"Installing Kong on Okteto with VKPR",id:"installing-kong-on-okteto-with-vkpr",level:3},{value:"Using Okteto context",id:"using-okteto-context",level:3},{value:"Installing Kong",id:"installing-kong",level:3}],c={toc:p};function u(e){let{components:t,...r}=e;return(0,i.kt)("wrapper",(0,o.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"provisioning-with-okteto"},"Provisioning with Okteto"),(0,i.kt)("h3",{id:"installing-kong-on-okteto-with-vkpr"},"Installing Kong on Okteto with VKPR"),(0,i.kt)("p",null,"VKPR also has a cloud development environment for testing provisioning, this environment is ",(0,i.kt)("a",{parentName:"p",href:"https://www.okteto.com/"},"Okteto"),"."),(0,i.kt)("p",null,"Okteto is an open source project that provides a cloud development experience for applications running on Kubernetes for free. VKPR uses Okteto to change the local Kubernetes context to the Cloud Okteto context to simulate cloud provisioning. Okteto has some restrictions on its use and for that reason its use in production is not recommended."),(0,i.kt)("h3",{id:"using-okteto-context"},"Using Okteto context"),(0,i.kt)("p",null,"We will need to change our default provider to Okteto, for that, insert in ",(0,i.kt)("inlineCode",{parentName:"p"},"vkpr.yaml")," the okteto provider:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"# vkpr.yaml\n---\nglobal:\n  provider: okteto\n")),(0,i.kt)("p",null,"In order to install Kong in the Okteto context namespace, we will run ",(0,i.kt)("inlineCode",{parentName:"p"},"vkpr okteto init"),", this command will be responsible for changing the context and namespace of our kubectl:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"$ vkpr okteto init\nFormula was successfully built!\n \u2713  Using context your-namespace @ cloud.okteto.com\n \u2713  Namespace 'your-namespace' selected\n \u2713  Using context your-namespace @ cloud.okteto.com\n \u2713  Updated kubernetes context 'cloud_okteto_com/your-namespace' in '[/home/user/.kube/config]'\n")),(0,i.kt)("h3",{id:"installing-kong"},"Installing Kong"),(0,i.kt)("p",null,"To install the ",(0,i.kt)("inlineCode",{parentName:"p"},"Kong")," Gatway API we will use ",(0,i.kt)("inlineCode",{parentName:"p"},"vkpr kong install"),", executing this command will start the decision tree that will ask us about some specifications, to install Kong on okteto cloud we will need to use the ",(0,i.kt)("inlineCode",{parentName:"p"},"cloud.okteto.net")," as in the example below:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"vkpr kong install\nFormula was successfully built!\n? Type the Kong domain:  cloud.okteto.net\n? Secure ?  false\n? Kong Mode: (Hybrid only available in Kong Enterprise)  standard\n? Type the full path to the license:  (empty for free mode)\n? Type the RBAC Admin Password. Has no effect on hybrid data plane installations:  vkpr123\n? HA ?  false\n? Dry-run ?  false\n")),(0,i.kt)("admonition",{title:"Tip",type:"note"},(0,i.kt)("p",{parentName:"admonition"},"You can also use the flag ",(0,i.kt)("inlineCode",{parentName:"p"},"--default"))),(0,i.kt)("p",null,"The following endpoints will be generated in okteto cloud:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"https://kong-kong-admin-your-namespace.cloud.okteto.net/\nhttps://kong-kong-manager-your-namespace.cloud.okteto.net/\nhttps://kong-kong-portal-your-namespacecloud.okteto.net/\nhttps://kong-kong-portalapi-your-namespace.cloud.okteto.net/\nhttps://kong-kong-proxy-your-namespace.cloud.okteto.net/\n")),(0,i.kt)("p",null,"You can query these endpoints by visiting ",(0,i.kt)("a",{parentName:"p",href:"https://cloud.okteto.com/"},"Cloud Okteto!")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Okteto Cloud UI",src:n(1294).Z,width:"1921",height:"877"})),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"}," To learn more about installing Kong, click ",(0,i.kt)("a",{parentName:"p",href:"/docs/commands/kong/install"},"here"),".")))}u.isMDXComponent=!0},1294:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/okteto-56d7e50bdf4a850cc29a82b0cf766b6d.png"}}]);