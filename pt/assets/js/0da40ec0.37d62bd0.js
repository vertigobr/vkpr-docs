"use strict";(self.webpackChunkvkpr_docs=self.webpackChunkvkpr_docs||[]).push([[3479],{3905:(e,r,t)=>{t.d(r,{Zo:()=>d,kt:()=>m});var n=t(7294);function a(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(Object(t),!0).forEach((function(r){a(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function l(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var s=n.createContext({}),c=function(e){var r=n.useContext(s),t=r;return e&&(t="function"==typeof e?e(r):i(i({},r),e)),t},d=function(e){var r=c(e.components);return n.createElement(s.Provider,{value:r},e.children)},p={inlineCode:"code",wrapper:function(e){var r=e.children;return n.createElement(n.Fragment,{},r)}},u=n.forwardRef((function(e,r){var t=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),u=c(t),m=a,k=u["".concat(s,".").concat(m)]||u[m]||p[m]||o;return t?n.createElement(k,i(i({ref:r},d),{},{components:t})):n.createElement(k,i({ref:r},d))}));function m(e,r){var t=arguments,a=r&&r.mdxType;if("string"==typeof e||a){var o=t.length,i=new Array(o);i[0]=u;var l={};for(var s in r)hasOwnProperty.call(r,s)&&(l[s]=r[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var c=2;c<o;c++)i[c]=t[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,t)}u.displayName="MDXCreateElement"},2377:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>s,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var n=t(7462),a=(t(7294),t(3905));const o={sidebar_position:2,sidebar_label:"Desenvolvimento Local",title:"Desenvolvimento Local",slug:"/provisioning/dev/local"},i="Desenvolvimento Local",l={unversionedId:"provisioning-guide/local-dev",id:"provisioning-guide/local-dev",title:"Desenvolvimento Local",description:"Para come\xe7ar a desenvolver localmente com o VKPR ser\xe1 necess\xe1rio inicializar um cluster kubernetes para hospedar nossa aplica\xe7\xe3o.",source:"@site/i18n/pt/docusaurus-plugin-content-docs/current/provisioning-guide/local-dev.md",sourceDirName:"provisioning-guide",slug:"/provisioning/dev/local",permalink:"/pt/docs/provisioning/dev/local",draft:!1,editUrl:"https://github.com/vertigobr/vkpr-docs/edit/main/docs/provisioning-guide/local-dev.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,sidebar_label:"Desenvolvimento Local",title:"Desenvolvimento Local",slug:"/provisioning/dev/local"},sidebar:"tutorialSidebar",previous:{title:"Utilizando VKPR Values",permalink:"/pt/docs/provisioning/values"},next:{title:"Desenvolvimento em nuvem",permalink:"/pt/docs/provisioning/dev/cloud"}},s={},c=[{value:"Inicializando o cluster pelo VKPR",id:"inicializando-o-cluster-pelo-vkpr",level:2},{value:"Registry",id:"registry",level:4},{value:"Como ele funciona?",id:"como-ele-funciona",level:3},{value:"Finalizando o cluster",id:"finalizando-o-cluster",level:3}],d={toc:c};function p(e){let{components:r,...t}=e;return(0,a.kt)("wrapper",(0,n.Z)({},d,t,{components:r,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"desenvolvimento-local"},"Desenvolvimento Local"),(0,a.kt)("p",null,"Para come\xe7ar a desenvolver localmente com o VKPR ser\xe1 necess\xe1rio inicializar um cluster kubernetes para hospedar nossa aplica\xe7\xe3o."),(0,a.kt)("h2",{id:"inicializando-o-cluster-pelo-vkpr"},"Inicializando o cluster pelo VKPR"),(0,a.kt)("p",null,"No VKPR existem dois comandos que s\xe3o respons\xe1veis pela inicializa\xe7\xe3o do cluster:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"vkpr infra up  \t"),(0,a.kt)("li",{parentName:"ul"},"vkpr infra start")),(0,a.kt)("p",null,"A diferen\xe7a entre eles \xe9 dada pela \xe1rvore de decis\xf5es que \xe9 inicializada ao utilizar o ",(0,a.kt)("inlineCode",{parentName:"p"},"vkpr infra start")," permitindo a altera\xe7\xe3o de valores como as portas padr\xe3o, quantidade de worker nodes entre outros."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"$ vkpr infra start\n? Type the HTTP listening port: 8000\n? Type the HTTPS listening port: 8001\n? Type the quantity of Worker Nodes: 3\n? Enable Volume Mount ? false\n? Enable Traefik ingress controller ? false\n==============================\nVKPR Local Infra Start Routine\nEnabled Traefik Ingress Controller: false\n...\n")),(0,a.kt)("admonition",{title:"Formula",type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Para saber mais sobre o ",(0,a.kt)("inlineCode",{parentName:"p"},"vkpr infra start"),", clique ",(0,a.kt)("a",{parentName:"p",href:"/docs/commands/infra/start"},"aqui"),".")),(0,a.kt)("p",null,"Utilizando ",(0,a.kt)("inlineCode",{parentName:"p"},"vkpr infra up")," o cluster ser\xe1 inicializado com os valores padr\xe3o."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"$ vkpr infra up\nAdded http_port by default: 8000\nAdded https_port by default: 8001\nAdded worker_nodes by default: 1\nAdded enable_volume by default: false\nAdded enable_traefik by default: false\n==============================\nVKPR Local Infra Start Routine\nEnabled Traefik Ingress Controller: false\n...\n")),(0,a.kt)("admonition",{title:"Formula",type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Para saber mais sobre o ",(0,a.kt)("inlineCode",{parentName:"p"},"vkpr infra up"),", clique ",(0,a.kt)("a",{parentName:"p",href:"/docs/commands/infra/up"},"aqui"))),(0,a.kt)("p",null,"Terminada a execu\xe7\xe3o de um dos comandos anteriores o cluster ser\xe1 inicializado e estar\xe1 pronto para hospedar a aplica\xe7\xe3o."),(0,a.kt)("h4",{id:"registry"},"Registry"),(0,a.kt)("p",null,"Mais uma das funcionalidade seria o VKPR tamb\xe9m disponibilizar um registry privado pra ser utilizado juntamente com o cluster e um mirror registry que cacheia as imagens baixadas para compor os deployments, \xe9 uma aplica\xe7\xe3o do lado do servidor sem estado e altamente escal\xe1vel que armazena e permite distribuir imagens do pod."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"$ vkpr infra start\n...\nINFO[0000] Starting Node 'k3d-registry.localhost'       \nINFO[0000] Successfully created registry 'k3d-registry.localhost' \n# You can now use the registry like this (example):\n# 1. create a new cluster that uses this registry\nk3d cluster create --registry-use k3d-registry.localhost:6000\n# 2. tag an existing local image to be pushed to the registry\ndocker tag nginx:latest k3d-registry.localhost:6000/mynginx:v0.1\n# 3. push that image to the registry\ndocker push k3d-registry.localhost:6000/mynginx:v0.1\n# 4. run a pod that uses this image\nkubectl run mynginx --image k3d-registry.localhost:6000/mynginx:v0.1\nINFO[0000] Creating node 'k3d-mirror.localhost'         \nINFO[0000] Successfully created registry 'k3d-mirror.localhost' \nINFO[0000] Starting Node 'k3d-mirror.localhost'         \nINFO[0000] Successfully created registry 'k3d-mirror.localhost' \n# You can now use the registry like this (example):\n# 1. create a new cluster that uses this registry\nk3d cluster create --registry-use k3d-mirror.localhost:6001\n# 2. tag an existing local image to be pushed to the registry\ndocker tag nginx:latest k3d-mirror.localhost:6001/mynginx:v0.1\n# 3. push that image to the registry\ndocker push k3d-mirror.localhost:6001/mynginx:v0.1\n# 4. run a pod that uses this image\nkubectl run mynginx --image k3d-mirror.localhost:6001/mynginx:v0.1\n...\n")),(0,a.kt)("h3",{id:"como-ele-funciona"},"Como ele funciona?"),(0,a.kt)("p",null,"Atrav\xe9s do k3d ser\xe1 criada toda a estrutura de containers para kubernetes resultando na cria\xe7\xe3o de nosso cluster local que ter\xe1 o nome ",(0,a.kt)("inlineCode",{parentName:"p"},"k3d-vkpr-local")," onde todas as aplica\xe7\xf5es do VKPR ser\xe3o instaladas."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"$ kubectl config get-contexts\nCURRENT   NAME               CLUSTER            AUTHINFO                     NAMESPACE \n*         k3d-vkpr-local     k3d-vkpr-local     admin@k3d-vkpr-local \n")),(0,a.kt)("admonition",{title:"Formula",type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Para ver os comandos provisionamento local, clique ",(0,a.kt)("a",{parentName:"p",href:"/docs/commands/infra/start"},"aqui"))),(0,a.kt)("h3",{id:"finalizando-o-cluster"},"Finalizando o cluster"),(0,a.kt)("p",null,"Um outro comando muito importante do VKPR \xe9 o ",(0,a.kt)("inlineCode",{parentName:"p"},"vkpr infra stop"),", este comando \xe9 respons\xe1vel pelo encerramento do cluster k8s, excluindo todos os recursos criados dentro do cluster ",(0,a.kt)("inlineCode",{parentName:"p"},"k3d-vkpr-local")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"$ vkpr infra stop\nAdded delete_registry by default: false\n==============================\nVKPR Local Infra Stop Routine\n==============================\nINFO[0000] Deleting cluster 'vkpr-local'                \nINFO[0001] Deleting image volume 'k3d-vkpr-local-images' \n...\n")),(0,a.kt)("admonition",{title:"Formula",type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Para saber mais sobre o ",(0,a.kt)("inlineCode",{parentName:"p"},"vkpr infra stop"),", clique ",(0,a.kt)("a",{parentName:"p",href:"/docs/commands/infra/stop"},"aqui"))))}p.isMDXComponent=!0}}]);