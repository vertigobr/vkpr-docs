"use strict";(self.webpackChunkvkpr_docs=self.webpackChunkvkpr_docs||[]).push([[3296],{3905:(e,a,n)=>{n.d(a,{Zo:()=>d,kt:()=>m});var o=n(7294);function r(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function i(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,o)}return n}function t(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?i(Object(n),!0).forEach((function(a){r(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function l(e,a){if(null==e)return{};var n,o,r=function(e,a){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],a.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=o.createContext({}),p=function(e){var a=o.useContext(s),n=a;return e&&(n="function"==typeof e?e(a):t(t({},a),e)),n},d=function(e){var a=p(e.components);return o.createElement(s.Provider,{value:a},e.children)},c={inlineCode:"code",wrapper:function(e){var a=e.children;return o.createElement(o.Fragment,{},a)}},u=o.forwardRef((function(e,a){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),u=p(n),m=r,v=u["".concat(s,".").concat(m)]||u[m]||c[m]||i;return n?o.createElement(v,t(t({ref:a},d),{},{components:n})):o.createElement(v,t({ref:a},d))}));function m(e,a){var n=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var i=n.length,t=new Array(i);t[0]=u;var l={};for(var s in a)hasOwnProperty.call(a,s)&&(l[s]=a[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,t[1]=l;for(var p=2;p<i;p++)t[p]=n[p];return o.createElement.apply(null,t)}return o.createElement.apply(null,n)}u.displayName="MDXCreateElement"},3899:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>s,contentTitle:()=>t,default:()=>c,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var o=n(7462),r=(n(7294),n(3905));const i={sidebar_position:1,sidebar_label:"Utilizando VKPR Values",title:"Utilizando VKPR Values",slug:"/provisioning/values"},t="Utilizando VKPR Values",l={unversionedId:"provisioning-guide/vkpr-values",id:"provisioning-guide/vkpr-values",title:"Utilizando VKPR Values",description:"Nos exemplos anteriores, testamos as aplica\xe7\xf5es passando pela \xe1rvore de decis\xe3o que o VKPR oferece. Uma das ferramentas que \xe9 utilizado pelo VKPR para abstrair os valores fornecidos tanto pela \xe1rvore de decis\xe3o, quanto por flags, seria o vkpr.yaml.",source:"@site/i18n/pt/docusaurus-plugin-content-docs/current/provisioning-guide/vkpr-values.md",sourceDirName:"provisioning-guide",slug:"/provisioning/values",permalink:"/pt/docs/provisioning/values",draft:!1,editUrl:"https://github.com/vertigobr/vkpr-docs/edit/main/docs/provisioning-guide/vkpr-values.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,sidebar_label:"Utilizando VKPR Values",title:"Utilizando VKPR Values",slug:"/provisioning/values"},sidebar:"tutorialSidebar",previous:{title:"Guia de Provisionamento",permalink:"/pt/docs/provisioning"},next:{title:"Desenvolvimento Local",permalink:"/pt/docs/provisioning/dev/local"}},s={},p=[{value:"Criando o VKPR Values",id:"criando-o-vkpr-values",level:2},{value:"Globals",id:"globals",level:3},{value:"Credentials",id:"credentials",level:3},{value:"Preced\xeancia de valores",id:"preced\xeancia-de-valores",level:2},{value:"Exemplo VKPR Values",id:"exemplo-vkpr-values",level:2}],d={toc:p};function c(e){let{components:a,...n}=e;return(0,r.kt)("wrapper",(0,o.Z)({},d,n,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"utilizando-vkpr-values"},"Utilizando VKPR Values"),(0,r.kt)("p",null,"Nos exemplos anteriores, testamos as aplica\xe7\xf5es passando pela \xe1rvore de decis\xe3o que o VKPR oferece. Uma das ferramentas que \xe9 utilizado pelo VKPR para abstrair os valores fornecidos tanto pela \xe1rvore de decis\xe3o, quanto por flags, seria o ",(0,r.kt)("inlineCode",{parentName:"p"},"vkpr.yaml"),"."),(0,r.kt)("p",null,"Se voc\xea deseja salvar o estado de seus aplicativos, reescrever os valores padr\xe3o das f\xf3rmulas e nem sempre precisar passar pela \xe1rvore de decis\xe3o das f\xf3rmulas, recomendamos que voc\xea use Valores VKPR para implantar todos os aplicativos desejados."),(0,r.kt)("admonition",{title:"Cuidado!",type:"danger"},(0,r.kt)("p",{parentName:"admonition"},"O VKPR encontra apenas o arquivo de values que est\xe1 no diret\xf3rio atual em que o comando foi executado.",(0,r.kt)("br",null),"\nExemplo: ",(0,r.kt)("inlineCode",{parentName:"p"},"$(pwd)/vkpr.yaml"))),(0,r.kt)("h2",{id:"criando-o-vkpr-values"},"Criando o VKPR Values"),(0,r.kt)("p",null,"O VKPR values \xe9 exclusivamente escrito em ",(0,r.kt)("inlineCode",{parentName:"p"},"YAML")," se baseando em uma estrutura de n\xf3s. "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="estrutura"',title:'"estrutura"'},"n\xf3-pai:      # Aplica\xe7\xe3o \n  n\xf3-filho:  # Argumento\n  ...\n")),(0,r.kt)("admonition",{title:"Dica",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"A Espec\xedfica\xe7\xe3o de valores-chave de cada aplicativo \xe9 descrita na documenta\xe7\xe3o do aplicativo.")),(0,r.kt)("h3",{id:"globals"},"Globals"),(0,r.kt)("p",null,"No VKPR Values, voc\xea estar\xe1 Espec\xedficando os valores para serem utilizados na instala\xe7\xe3o da aplica\xe7\xe3o, algumas das configura\xe7\xf5es podem ser definidas nos dominios globais como a op\xe7\xe3o ",(0,r.kt)("inlineCode",{parentName:"p"},"global")," que servir\xe1 a aplica\xe7\xe3o caso a mesma configura\xe7\xe3o n\xe3o esteja definida em um n\xf3-filho (algum dos valores n\xe3o conseguir\xe3o ser Espec\xedficados na aplica\xe7\xe3o). "),(0,r.kt)("p",null,"Segue a lista de valores-chaves na op\xe7\xe3o do ",(0,r.kt)("inlineCode",{parentName:"p"},"globals")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"domain")," - Espec\xedfica o dom\xednio que ser\xe1 utilizado na aplica\xe7\xe3o. O valor padr\xe3o \xe9 ",(0,r.kt)("inlineCode",{parentName:"li"},"localhost"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"secure")," - Espec\xedfica se a aplica\xe7\xe3o ser\xe1 exposta pelo ingressControler como HTTP/HTTPS. O valor padr\xe3o \xe9 ",(0,r.kt)("inlineCode",{parentName:"li"},"false"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ingressClassName")," - Espec\xedfica qual ingressControler ser\xe1 respons\xe1vel por expor a aplica\xe7\xe3o. Valores permitidos: ",(0,r.kt)("inlineCode",{parentName:"li"},"kong")," e ",(0,r.kt)("inlineCode",{parentName:"li"},"nginx"),"  O valor padr\xe3o \xe9 ",(0,r.kt)("inlineCode",{parentName:"li"},"nginx"),". "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"namespace")," - Espec\xedfica o namespace que ser\xe1 utilizado para a instala\xe7\xe3o das aplica\xe7\xf5es. O valor padr\xe3o \xe9 ",(0,r.kt)("inlineCode",{parentName:"li"},"vkpr"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"provider")," - (Opcional) Espec\xedfica o provider que a aplica\xe7\xe3o deve comportar. Valores permitidos: ",(0,r.kt)("inlineCode",{parentName:"li"},"aws"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"digitalocean")," e ",(0,r.kt)("inlineCode",{parentName:"li"},"okteto"),".")),(0,r.kt)("h3",{id:"credentials"},"Credentials"),(0,r.kt)("p",null,"O VKPR Values tamb\xe9m, assim como o ",(0,r.kt)("inlineCode",{parentName:"p"},"global"),", fornece a op\xe7\xe3o de configurar as credenciais dos cloud providers atrav\xe9s do n\xf3 ",(0,r.kt)("inlineCode",{parentName:"p"},"credentials"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="vkpr.yaml"',title:'"vkpr.yaml"'},'credentials:\n  aws:\n    accessKey: ""  \n    secretKey: ""\n    region: ""\n  digitalocean:\n    apiToken: ""\n')),(0,r.kt)("admonition",{title:"Importante!",type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"A utiliza\xe7\xe3o das credenciais neste campo s\xf3 funciona utilizando a f\xf3rmula do ",(0,r.kt)("a",{parentName:"p",href:"/docs/commands/apply"},(0,r.kt)("inlineCode",{parentName:"a"},"vkpr apply")),".")),(0,r.kt)("h2",{id:"preced\xeancia-de-valores"},"Preced\xeancia de valores"),(0,r.kt)("p",null,"H\xe1 uma precedencia de valores a qual o VKPR segue, algum dos valores possuem suas pr\xf3prias op\xe7\xf5es dentro dos n\xf3s das aplica\xe7\xf5es que ter\xe3o uma preced\xeancia maior que os valores globais. Os valores que possuem entre o ",(0,r.kt)("inlineCode",{parentName:"p"},"global")," e as aplica\xe7\xf5es s\xe3o: ",(0,r.kt)("inlineCode",{parentName:"p"},"ingresClassName")," e ",(0,r.kt)("inlineCode",{parentName:"p"},"namespace"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="Exemplo de preced\xeancia"',title:'"Exemplo',de:!0,'preced\xeancia"':!0},'global:\n  namespace: "foo" \nwhoami:\n  namespace: "bar" \n# A aplica\xe7\xe3o whoami sera instalada na namespace "bar"\n')),(0,r.kt)("p",null,"Em linhas gerais n\xe3o \xe9 somente o ",(0,r.kt)("inlineCode",{parentName:"p"},"vkpr.yaml")," que tem uma preced\xeancia, todos os valores os quais o vkpr recebe tem sua preced\xeancia. "),(0,r.kt)("p",null,"Segue a ordem de preced\xeancia do men\xf3r para o maior:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"default")," - Valor atribuido padr\xe3o caso n\xe3o seja Espec\xedficado anteriormente."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"env")," - (vari\xe1vel de ambiente) valores de v\xe1riavel do seu ambiente."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"VKPR values")," - (vkpr.yaml) valores atribuidos ao ter ou Espec\xedficar o arquivo de configura\xe7\xe3o do VKPR Values no seu diret\xf3rio padr\xe3o. "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"input")," - Valores definidos na \xe1rvore de decis\xf5es ou atribuidos por flags.")),(0,r.kt)("h2",{id:"exemplo-vkpr-values"},"Exemplo VKPR Values"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="vkpr.yaml"',title:'"vkpr.yaml"'},'global:\n  domain: localhost\n  secure: false\n  ingressClassName: nginx\n  namespace: vkpr\n  provider: "" \ncredentials:\n  aws:\n    accessKey: "" \n    secretKey: ""\n    region: ""\n  digitalocean:\n    apiToken: ""\n')))}c.isMDXComponent=!0}}]);